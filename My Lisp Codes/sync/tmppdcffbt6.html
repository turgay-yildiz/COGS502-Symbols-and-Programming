<html><head><meta charset="UTF-8"></head><body><div style="white-space:pre;font-family:Monospace;color:#d8dee9;background-color:#303841;-moz-tab-size:2;tab-size:2;">      <span style="color:#5fb4b4;">(</span><span style="color:#6699cc;font-style:italic;">load</span> <span style="color:#5fb4b4;">"</span><span style="color:#99c794;">utils.lisp</span><span style="color:#5fb4b4;">"</span><span style="color:#5fb4b4;">)</span><br><br>      <span style="color:#5fb4b4;">(</span>defparameter <span style="color:#5fb4b4;">*</span>dataframe<span style="color:#5fb4b4;">*</span> <span style="color:#5fb4b4;">(</span>tsv<span style="color:#f97b58;">-</span><span style="color:#c695c6;">to</span><span style="color:#f97b58;">-</span><span style="color:#6699cc;font-style:italic;">list</span> <span style="color:#5fb4b4;">"</span><span style="color:#99c794;">/</span><span style="color:#99c794;">data</span><span style="color:#99c794;">/</span><span style="color:#99c794;">test.tsv</span><span style="color:#5fb4b4;">"</span><span style="color:#5fb4b4;">)</span><span style="color:#5fb4b4;">)</span><br><br><br>      a b c<br><br>      1 2 3<br>      4 5 6<br>      7 8 9<br><br>      This dataframe is like <span style="color:#5fb4b4;">(</span> <span style="color:#5fb4b4;">(</span>a b c<span style="color:#5fb4b4;">)</span> <span style="color:#5fb4b4;">(</span><span style="color:#f9ae58;">1</span> <span style="color:#f9ae58;">2</span> <span style="color:#f9ae58;">3</span><span style="color:#5fb4b4;">)</span> <span style="color:#5fb4b4;">(</span><span style="color:#f9ae58;">4</span> <span style="color:#f9ae58;">5</span> <span style="color:#f9ae58;">6</span><span style="color:#5fb4b4;">)</span> <span style="color:#5fb4b4;">(</span><span style="color:#f9ae58;">7</span> <span style="color:#f9ae58;">8</span> <span style="color:#f9ae58;">9</span><span style="color:#5fb4b4;">)</span><span style="color:#5fb4b4;">)</span><br><br>      <span style="color:#5fb4b4;">(</span><span style="color:#c695c6;font-style:italic;">defun</span> <span style="color:#5fb4b4;">get-row</span>  <span style="color:#5fb4b4;">(</span>df   n<span style="color:#5fb4b4;">)</span><br>          <br>          <span style="color:#5fb4b4;">(</span><span style="color:#6699cc;font-style:italic;">nth</span>   <span style="color:#5fb4b4;">(</span><span style="color:#f97b58;">+</span> n <span style="color:#f9ae58;">1</span> <span style="color:#5fb4b4;">)</span>   df <span style="color:#5fb4b4;">)</span>   <span style="color:#a6acb9;">;</span><span style="color:#a6acb9;"> </span><span style="color:#a6acb9;">First </span><span style="color:#a6acb9;">row</span><span style="color:#a6acb9;">/</span><span style="color:#a6acb9;">subset </span><span style="color:#a6acb9;">is </span><span style="color:#a6acb9;">name </span><span style="color:#a6acb9;">of </span><span style="color:#a6acb9;">columns. </span><span style="color:#a6acb9;">Therefore, </span><span style="color:#a6acb9;">if </span><span style="color:#a6acb9;">you </span><span style="color:#a6acb9;">want </span><span style="color:#a6acb9;">to </span><span style="color:#a6acb9;">take </span><span style="color:#a6acb9;">nth </span><span style="color:#a6acb9;">row, </span><span style="color:#a6acb9;">you </span><span style="color:#a6acb9;">should </span><span style="color:#a6acb9;">employ </span><span style="color:#a6acb9;">"n </span><span style="color:#a6acb9;">+ </span><span style="color:#a6acb9;">1" </span><span style="color:#a6acb9;">(</span><span style="color:#a6acb9;">one </span><span style="color:#a6acb9;">more)</span><br>      <span style="color:#5fb4b4;">)</span><br><br>      * <span style="color:#5fb4b4;">(</span><span style="color:#6699cc;font-style:italic;">get</span><span style="color:#f97b58;">-</span>row <span style="color:#5fb4b4;">*</span>dataframe<span style="color:#5fb4b4;">*</span> <span style="color:#f9ae58;">0</span><span style="color:#5fb4b4;">)</span>        will return     <span style="color:#5fb4b4;">(</span><span style="color:#f9ae58;">1</span> <span style="color:#f9ae58;">2</span> <span style="color:#f9ae58;">3</span><span style="color:#5fb4b4;">)</span><br><br><br>      <span style="color:#5fb4b4;">(</span><span style="color:#c695c6;font-style:italic;">defun</span> <span style="color:#5fb4b4;">get_column_index</span> <span style="color:#5fb4b4;">(</span>col_names  col_name  &amp;optional <span style="color:#5fb4b4;">(</span>index <span style="color:#f9ae58;">0</span><span style="color:#5fb4b4;">)</span><span style="color:#5fb4b4;">)</span>       <span style="color:#a6acb9;">;</span><span style="color:#a6acb9;"> </span><span style="color:#a6acb9;">col_names </span><span style="color:#a6acb9;">= </span><span style="color:#a6acb9;">(</span><span style="color:#a6acb9;">car </span><span style="color:#a6acb9;">*dataframe*) </span><span style="color:#a6acb9;">= </span><span style="color:#a6acb9;">(</span><span style="color:#a6acb9;">a </span><span style="color:#a6acb9;">b </span><span style="color:#a6acb9;">c)</span><br><br>        <span style="color:#5fb4b4;">(</span><span style="color:#c695c6;">cond</span>   <span style="color:#5fb4b4;">(</span> <span style="color:#5fb4b4;">(</span><span style="color:#6699cc;font-style:italic;">endp</span> col_names<span style="color:#5fb4b4;">)</span>                          <span style="color:#ec5f66;font-style:italic;">nil</span><span style="color:#5fb4b4;">)</span>               <span style="color:#a6acb9;">;</span><span style="color:#a6acb9;"> </span><span style="color:#a6acb9;">if </span><span style="color:#a6acb9;">did </span><span style="color:#a6acb9;">not </span><span style="color:#a6acb9;">find</span><br>                <span style="color:#5fb4b4;">(</span> <span style="color:#5fb4b4;">(</span><span style="color:#f97b58;">equal</span> <span style="color:#5fb4b4;">(</span><span style="color:#6699cc;font-style:italic;">car</span> col_names<span style="color:#5fb4b4;">)</span> col_name<span style="color:#5fb4b4;">)</span>          index<span style="color:#5fb4b4;">)</span>             <span style="color:#a6acb9;">;</span><span style="color:#a6acb9;"> </span><span style="color:#a6acb9;">if </span><span style="color:#a6acb9;">found, </span><span style="color:#a6acb9;">return </span><span style="color:#a6acb9;">index</span><br>                  <span style="color:#5fb4b4;">(</span> <span style="color:#ec5f66;font-style:italic;">t</span>                                       <span style="color:#5fb4b4;">(</span>get_column_index <span style="color:#5fb4b4;">(</span><span style="color:#6699cc;font-style:italic;">cdr</span> col_names<span style="color:#5fb4b4;">)</span>  col_name  <span style="color:#5fb4b4;">(</span><span style="color:#f97b58;">+</span> <span style="color:#f9ae58;">1</span> index<span style="color:#5fb4b4;">)</span><span style="color:#5fb4b4;">)</span><span style="color:#5fb4b4;">)</span> <span style="color:#a6acb9;">;</span><span style="color:#a6acb9;"> </span><span style="color:#a6acb9;">otherwise, </span><span style="color:#a6acb9;">increase </span><span style="color:#a6acb9;">index, </span><span style="color:#a6acb9;">and </span><span style="color:#a6acb9;">send </span><span style="color:#a6acb9;">cdr </span><br>          <span style="color:#5fb4b4;">)</span><br>      <span style="color:#5fb4b4;">)</span><br><br>      * <span style="color:#5fb4b4;">(</span>get_column_index <span style="color:#5fb4b4;">(</span><span style="color:#6699cc;font-style:italic;">car</span> <span style="color:#5fb4b4;">*</span>dataframe<span style="color:#5fb4b4;">*</span><span style="color:#5fb4b4;">)</span> 'a <span style="color:#5fb4b4;">)</span>  will return   0   <span style="color:#a6acb9;">;</span><span style="color:#a6acb9;"> </span><span style="color:#a6acb9;">because </span><span style="color:#a6acb9;">the </span><span style="color:#a6acb9;">index </span><span style="color:#a6acb9;">of </span><span style="color:#a6acb9;">a </span><span style="color:#a6acb9;">= </span><span style="color:#a6acb9;">0</span><br><br><br>      ################################################################################3<br>      always visualize the matrix:<br><br>      a b c<br><br>      1 2 3<br>      4 5 6<br>      7 8 9<br><br>      This dataframe is like <span style="color:#5fb4b4;">(</span> <span style="color:#5fb4b4;">(</span>a b c<span style="color:#5fb4b4;">)</span> <span style="color:#5fb4b4;">(</span><span style="color:#f9ae58;">1</span> <span style="color:#f9ae58;">2</span> <span style="color:#f9ae58;">3</span><span style="color:#5fb4b4;">)</span> <span style="color:#5fb4b4;">(</span><span style="color:#f9ae58;">4</span> <span style="color:#f9ae58;">5</span> <span style="color:#f9ae58;">6</span><span style="color:#5fb4b4;">)</span> <span style="color:#5fb4b4;">(</span><span style="color:#f9ae58;">7</span> <span style="color:#f9ae58;">8</span> <span style="color:#f9ae58;">9</span><span style="color:#5fb4b4;">)</span><span style="color:#5fb4b4;">)</span><br><br>      ################################################################################<br><br>      <span style="color:#a6acb9;">;</span><span style="color:#a6acb9;">lets </span><span style="color:#a6acb9;">assume </span><span style="color:#a6acb9;">we </span><span style="color:#a6acb9;">want </span><span style="color:#a6acb9;">to </span><span style="color:#a6acb9;">take </span><span style="color:#a6acb9;">the </span><span style="color:#a6acb9;">b_th </span><span style="color:#a6acb9;">column </span><span style="color:#a6acb9;">and </span><span style="color:#a6acb9;">we </span><span style="color:#a6acb9;">can </span><span style="color:#a6acb9;">find </span><span style="color:#a6acb9;">the </span><span style="color:#a6acb9;">columns </span><span style="color:#a6acb9;">index </span><span style="color:#a6acb9;">by </span><span style="color:#a6acb9;">using </span><span style="color:#a6acb9;">get_column_index</span><br>      <span style="color:#a6acb9;">;</span><span style="color:#a6acb9;">and </span><span style="color:#a6acb9;">it </span><span style="color:#a6acb9;">will </span><span style="color:#a6acb9;">give </span><span style="color:#a6acb9;">us </span><span style="color:#a6acb9;">"1"</span><br><br>      <span style="color:#5fb4b4;">(</span><span style="color:#c695c6;font-style:italic;">defun</span> <span style="color:#5fb4b4;">get-col</span> <span style="color:#5fb4b4;">(</span>df  col_name<span style="color:#5fb4b4;">)</span><br><br>        <span style="color:#5fb4b4;">(</span><span style="color:#c695c6;">let</span> <span style="color:#5fb4b4;">(</span>  <span style="color:#5fb4b4;">(</span>index                      <span style="color:#5fb4b4;">(</span>get_column_index <span style="color:#5fb4b4;">(</span><span style="color:#6699cc;font-style:italic;">car</span> df<span style="color:#5fb4b4;">)</span>  col_name<span style="color:#5fb4b4;">)</span><span style="color:#5fb4b4;">)</span><span style="color:#5fb4b4;">)</span>  <span style="color:#a6acb9;">;</span><span style="color:#a6acb9;"> </span><span style="color:#a6acb9;">index </span><span style="color:#a6acb9;">will </span><span style="color:#a6acb9;">be </span><span style="color:#a6acb9;">1</span><br>                <span style="color:#5fb4b4;">(</span><span style="color:#c695c6;">mapcar</span> <span style="color:#5fb4b4;">#</span><span style="color:#c695c6;">'</span> <span style="color:#5fb4b4;">(</span><span style="color:#6699cc;font-style:italic;">lambda</span> <span style="color:#5fb4b4;">(</span>row<span style="color:#5fb4b4;">)</span><br>                  <span style="color:#5fb4b4;">(</span><span style="color:#6699cc;font-style:italic;">nth</span> index row<span style="color:#5fb4b4;">)</span>       <span style="color:#a6acb9;">;</span><span style="color:#a6acb9;"> </span><span style="color:#a6acb9;">mapcar </span><span style="color:#a6acb9;">will </span><span style="color:#a6acb9;">only </span><span style="color:#a6acb9;">get </span><span style="color:#a6acb9;">1_th </span><span style="color:#a6acb9;">elements </span><span style="color:#a6acb9;">like </span><span style="color:#a6acb9;">2, </span><span style="color:#a6acb9;">5, </span><span style="color:#a6acb9;">and </span><span style="color:#a6acb9;">8 </span><span style="color:#a6acb9;">.This </span><span style="color:#a6acb9;">is </span><span style="color:#a6acb9;">the </span><span style="color:#a6acb9;">b_th </span><span style="color:#a6acb9;">column.</span><br>                          <span style="color:#5fb4b4;">)</span><br>                      <span style="color:#5fb4b4;">(</span><span style="color:#6699cc;font-style:italic;">cdr</span> df<span style="color:#5fb4b4;">)</span> <span style="color:#a6acb9;">;</span><span style="color:#a6acb9;"> </span><span style="color:#a6acb9;">which </span><span style="color:#a6acb9;">is </span><span style="color:#a6acb9;">((1 </span><span style="color:#a6acb9;">"2" </span><span style="color:#a6acb9;">3) </span><span style="color:#a6acb9;">(</span><span style="color:#a6acb9;">4 </span><span style="color:#a6acb9;">"5" </span><span style="color:#a6acb9;">6) </span><span style="color:#a6acb9;">(</span><span style="color:#a6acb9;">7 </span><span style="color:#a6acb9;">"8" </span><span style="color:#a6acb9;">9)))   </span><span style="color:#a6acb9;">mapcar </span><span style="color:#a6acb9;">will </span><span style="color:#a6acb9;">take </span><span style="color:#a6acb9;">one </span><span style="color:#a6acb9;">by </span><span style="color:#a6acb9;">one </span><span style="color:#a6acb9;">first </span><span style="color:#a6acb9;">(</span><span style="color:#a6acb9;">1 </span><span style="color:#a6acb9;">2 </span><span style="color:#a6acb9;">3) </span><span style="color:#a6acb9;">then </span><span style="color:#a6acb9;">(</span><span style="color:#a6acb9;">4 </span><span style="color:#a6acb9;">5 </span><span style="color:#a6acb9;">6)</span><br>                <span style="color:#5fb4b4;">)</span><br>        <span style="color:#5fb4b4;">)</span><br>      <span style="color:#5fb4b4;">)</span><br><br>      * <span style="color:#5fb4b4;">(</span><span style="color:#6699cc;font-style:italic;">get</span><span style="color:#f97b58;">-</span>col <span style="color:#5fb4b4;">*</span>dataframe<span style="color:#5fb4b4;">*</span> 'b<span style="color:#5fb4b4;">)</span>      returned    <span style="color:#5fb4b4;">(</span><span style="color:#f9ae58;">2</span> <span style="color:#f9ae58;">5</span> <span style="color:#f9ae58;">8</span><span style="color:#5fb4b4;">)</span><br><br>      ################################################################################3<br>      always visualize the matrix:<br><br>      a b c<br><br>      1 2 3<br>      4 5 6<br>      7 8 9<br><br>      This dataframe is like <span style="color:#5fb4b4;">(</span> <span style="color:#5fb4b4;">(</span>a b c<span style="color:#5fb4b4;">)</span> <span style="color:#5fb4b4;">(</span><span style="color:#f9ae58;">1</span> <span style="color:#f9ae58;">2</span> <span style="color:#f9ae58;">3</span><span style="color:#5fb4b4;">)</span> <span style="color:#5fb4b4;">(</span><span style="color:#f9ae58;">4</span> <span style="color:#f9ae58;">5</span> <span style="color:#f9ae58;">6</span><span style="color:#5fb4b4;">)</span> <span style="color:#5fb4b4;">(</span><span style="color:#f9ae58;">7</span> <span style="color:#f9ae58;">8</span> <span style="color:#f9ae58;">9</span><span style="color:#5fb4b4;">)</span><span style="color:#5fb4b4;">)</span><br><br>      ################################################################################<br><br>      Lets assume we want to get/take the column b's 2_th element which is 8.<br><br><br>      <span style="color:#5fb4b4;">(</span><span style="color:#c695c6;font-style:italic;">defun</span> <span style="color:#5fb4b4;">take</span> <span style="color:#5fb4b4;">(</span>df &amp;optional <span style="color:#5fb4b4;">(</span>row <span style="color:#ec5f66;font-style:italic;">nil</span><span style="color:#5fb4b4;">)</span> <span style="color:#5fb4b4;">(</span>col <span style="color:#ec5f66;font-style:italic;">nil</span><span style="color:#5fb4b4;">)</span><span style="color:#5fb4b4;">)</span><br><br>        <span style="color:#5fb4b4;">(</span><span style="color:#c695c6;">cond</span>   <span style="color:#5fb4b4;">(</span> <span style="color:#5fb4b4;">(</span><span style="color:#f97b58;">and</span> <span style="color:#5fb4b4;">(</span><span style="color:#f97b58;">eql</span> col <span style="color:#ec5f66;font-style:italic;">nil</span><span style="color:#5fb4b4;">)</span> <span style="color:#5fb4b4;">(</span><span style="color:#6699cc;font-style:italic;">numberp</span> row<span style="color:#5fb4b4;">)</span><span style="color:#5fb4b4;">)</span>                                       <span style="color:#5fb4b4;">(</span><span style="color:#6699cc;font-style:italic;">get</span><span style="color:#f97b58;">-</span>row df row<span style="color:#5fb4b4;">)</span><span style="color:#5fb4b4;">)</span>  <span style="color:#a6acb9;">;</span><span style="color:#a6acb9;"> </span><span style="color:#a6acb9;">if </span><span style="color:#a6acb9;">input </span><span style="color:#a6acb9;">is </span><span style="color:#a6acb9;">like </span><span style="color:#a6acb9;">(</span><span style="color:#a6acb9;">df </span><span style="color:#a6acb9;">2) </span><span style="color:#a6acb9;">give </span><span style="color:#a6acb9;">only </span><span style="color:#a6acb9;">row, </span><span style="color:#a6acb9;">we </span><span style="color:#a6acb9;">had </span><span style="color:#a6acb9;">get-row </span><span style="color:#a6acb9;">above</span><br>                <span style="color:#5fb4b4;">(</span> <span style="color:#5fb4b4;">(</span><span style="color:#f97b58;">and</span> <span style="color:#5fb4b4;">(</span><span style="color:#f97b58;">eql</span> row <span style="color:#ec5f66;font-style:italic;">nil</span><span style="color:#5fb4b4;">)</span> <span style="color:#5fb4b4;">(</span><span style="color:#f97b58;">or</span> <span style="color:#5fb4b4;">(</span><span style="color:#6699cc;font-style:italic;">symbolp</span> col<span style="color:#5fb4b4;">)</span><span style="color:#5fb4b4;">(</span><span style="color:#6699cc;font-style:italic;">stringp</span> col<span style="color:#5fb4b4;">)</span><span style="color:#5fb4b4;">)</span><span style="color:#5fb4b4;">)</span>                     <span style="color:#5fb4b4;">(</span><span style="color:#6699cc;font-style:italic;">get</span><span style="color:#f97b58;">-</span>col df col<span style="color:#5fb4b4;">)</span><span style="color:#5fb4b4;">)</span>  <span style="color:#a6acb9;">;</span><span style="color:#a6acb9;"> </span><span style="color:#a6acb9;">if </span><span style="color:#a6acb9;">input </span><span style="color:#a6acb9;">is </span><span style="color:#a6acb9;">like </span><span style="color:#a6acb9;">(</span><span style="color:#a6acb9;">df </span><span style="color:#a6acb9;">'b) </span><span style="color:#a6acb9;">or </span><span style="color:#a6acb9;">(</span><span style="color:#a6acb9;">df </span><span style="color:#a6acb9;">"name") </span><span style="color:#a6acb9;">give </span><span style="color:#a6acb9;">column, </span><span style="color:#a6acb9;">we </span><span style="color:#a6acb9;">had </span><span style="color:#a6acb9;">get-col</span><br>                <span style="color:#5fb4b4;">(</span> <span style="color:#5fb4b4;">(</span><span style="color:#f97b58;">and</span> <span style="color:#5fb4b4;">(</span><span style="color:#6699cc;font-style:italic;">numberp</span> row<span style="color:#5fb4b4;">)</span> <span style="color:#5fb4b4;">(</span><span style="color:#f97b58;">or</span> <span style="color:#5fb4b4;">(</span><span style="color:#6699cc;font-style:italic;">symbolp</span> col<span style="color:#5fb4b4;">)</span><span style="color:#5fb4b4;">(</span><span style="color:#6699cc;font-style:italic;">stringp</span> col<span style="color:#5fb4b4;">)</span><span style="color:#5fb4b4;">)</span><span style="color:#5fb4b4;">)</span>                     <span style="color:#5fb4b4;">(</span><span style="color:#6699cc;font-style:italic;">nth</span> row <span style="color:#5fb4b4;">(</span><span style="color:#6699cc;font-style:italic;">get</span><span style="color:#f97b58;">-</span>col df col<span style="color:#5fb4b4;">)</span><span style="color:#5fb4b4;">)</span><span style="color:#5fb4b4;">)</span> <span style="color:#a6acb9;">;</span><span style="color:#a6acb9;"> </span><span style="color:#a6acb9;">otherwise, </span><span style="color:#a6acb9;">first </span><span style="color:#a6acb9;">(</span><span style="color:#a6acb9;">get-col </span><span style="color:#a6acb9;">df </span><span style="color:#a6acb9;">'b) </span><span style="color:#a6acb9;">which </span><span style="color:#a6acb9;">is </span><span style="color:#a6acb9;">(</span><span style="color:#a6acb9;">2 </span><span style="color:#a6acb9;">5 </span><span style="color:#a6acb9;">8)</span><br>        <span style="color:#5fb4b4;">)</span>                                                               <span style="color:#a6acb9;">;</span><span style="color:#a6acb9;"> </span><span style="color:#a6acb9;">then </span><span style="color:#a6acb9;">(</span><span style="color:#a6acb9;">nth </span><span style="color:#a6acb9;">2 </span><span style="color:#a6acb9;">'(2 </span><span style="color:#a6acb9;">5 </span><span style="color:#a6acb9;">8) </span><span style="color:#a6acb9;">)   </span><span style="color:#a6acb9;">which </span><span style="color:#a6acb9;">is </span><span style="color:#a6acb9;">8.</span><br>      <span style="color:#5fb4b4;">)</span><br><br><br>      * <span style="color:#5fb4b4;">(</span>take <span style="color:#5fb4b4;">*</span>dataframe<span style="color:#5fb4b4;">*</span> <span style="color:#f9ae58;">2</span> 'b<span style="color:#5fb4b4;">)</span>     returned    8<br><br>      ################################################################################3<br>      always visualize the matrix:<br><br>      a b c<br><br>      1 2 3<br>      4 5 6<br>      7 8 9<br><br>      This dataframe is like <span style="color:#5fb4b4;">(</span> <span style="color:#5fb4b4;">(</span>a b c<span style="color:#5fb4b4;">)</span> <span style="color:#5fb4b4;">(</span><span style="color:#f9ae58;">1</span> <span style="color:#f9ae58;">2</span> <span style="color:#f9ae58;">3</span><span style="color:#5fb4b4;">)</span> <span style="color:#5fb4b4;">(</span><span style="color:#f9ae58;">4</span> <span style="color:#f9ae58;">5</span> <span style="color:#f9ae58;">6</span><span style="color:#5fb4b4;">)</span> <span style="color:#5fb4b4;">(</span><span style="color:#f9ae58;">7</span> <span style="color:#f9ae58;">8</span> <span style="color:#f9ae58;">9</span><span style="color:#5fb4b4;">)</span><span style="color:#5fb4b4;">)</span><br><br>      ################################################################################<br><br>      <span style="color:#5fb4b4;">(</span><span style="color:#c695c6;font-style:italic;">defun</span> <span style="color:#5fb4b4;">turn-to-list</span> <span style="color:#5fb4b4;">(</span>lst<span style="color:#5fb4b4;">)</span><br>        <span style="color:#5fb4b4;">(</span><span style="color:#c695c6;">mapcar</span> <span style="color:#5fb4b4;">#</span><span style="color:#c695c6;">'</span> <span style="color:#5fb4b4;">(</span><span style="color:#6699cc;font-style:italic;">lambda</span> <span style="color:#5fb4b4;">(</span>x<span style="color:#5fb4b4;">)</span>  <span style="color:#5fb4b4;">(</span><span style="color:#6699cc;font-style:italic;">list</span> x<span style="color:#5fb4b4;">)</span><span style="color:#5fb4b4;">)</span> lst<span style="color:#5fb4b4;">)</span><br>        <span style="color:#5fb4b4;">)</span><br><br>      what this does is :<br><br>      * <span style="color:#5fb4b4;">(</span>turn<span style="color:#f97b58;">-</span><span style="color:#c695c6;">to</span><span style="color:#f97b58;">-</span><span style="color:#6699cc;font-style:italic;">list</span> '<span style="color:#5fb4b4;">(</span>a b c<span style="color:#5fb4b4;">)</span> <span style="color:#5fb4b4;">)</span>          ->      <span style="color:#5fb4b4;">(</span><span style="color:#5fb4b4;">(</span>A<span style="color:#5fb4b4;">)</span> <span style="color:#5fb4b4;">(</span>B<span style="color:#5fb4b4;">)</span> <span style="color:#5fb4b4;">(</span>C<span style="color:#5fb4b4;">)</span><span style="color:#5fb4b4;">)</span>   because we will use append. <br><br>      Assume we want to add a new column "d" like d = <span style="color:#5fb4b4;">(</span>x y z<span style="color:#5fb4b4;">)</span> . <br><br>      The new list has to be like  :  <span style="color:#5fb4b4;">(</span> <span style="color:#5fb4b4;">(</span>a b c <span style="color:#5fb4b4;">"</span><span style="color:#99c794;">d</span><span style="color:#5fb4b4;">"</span><span style="color:#5fb4b4;">)</span> <span style="color:#5fb4b4;">(</span><span style="color:#f9ae58;">1</span> <span style="color:#f9ae58;">2</span> <span style="color:#f9ae58;">3</span> <span style="color:#5fb4b4;">"</span><span style="color:#99c794;">x</span><span style="color:#5fb4b4;">"</span><span style="color:#5fb4b4;">)</span> <span style="color:#5fb4b4;">(</span><span style="color:#f9ae58;">4</span> <span style="color:#f9ae58;">5</span> <span style="color:#f9ae58;">6</span> <span style="color:#5fb4b4;">"</span><span style="color:#99c794;">y</span><span style="color:#5fb4b4;">"</span><span style="color:#5fb4b4;">)</span> <span style="color:#5fb4b4;">(</span><span style="color:#f9ae58;">7</span> <span style="color:#f9ae58;">8</span> <span style="color:#f9ae58;">9</span> <span style="color:#5fb4b4;">"</span><span style="color:#99c794;">z</span><span style="color:#5fb4b4;">"</span><span style="color:#5fb4b4;">)</span> <span style="color:#5fb4b4;">)</span>   <span style="color:#a6acb9;">;</span><span style="color:#a6acb9;"> </span><span style="color:#a6acb9;">double </span><span style="color:#a6acb9;">quotes </span><span style="color:#a6acb9;">for </span><span style="color:#a6acb9;">stressing</span><br><br>      <span style="color:#5fb4b4;">(</span><span style="color:#6699cc;font-style:italic;">cdr</span> df<span style="color:#5fb4b4;">)</span> is <span style="color:#5fb4b4;">(</span><span style="color:#5fb4b4;">(</span><span style="color:#f9ae58;">1</span> <span style="color:#f9ae58;">2</span> <span style="color:#f9ae58;">3</span><span style="color:#5fb4b4;">)</span> <span style="color:#5fb4b4;">(</span><span style="color:#f9ae58;">4</span> <span style="color:#f9ae58;">5</span> <span style="color:#f9ae58;">6</span><span style="color:#5fb4b4;">)</span> <span style="color:#5fb4b4;">(</span><span style="color:#f9ae58;">7</span> <span style="color:#f9ae58;">8</span> <span style="color:#f9ae58;">9</span><span style="color:#5fb4b4;">)</span><span style="color:#5fb4b4;">)</span>      and <span style="color:#5fb4b4;">(</span>turn<span style="color:#f97b58;">-</span><span style="color:#c695c6;">to</span><span style="color:#f97b58;">-</span><span style="color:#6699cc;font-style:italic;">list</span> lst<span style="color:#5fb4b4;">)</span> this will give us :  <span style="color:#5fb4b4;">(</span><span style="color:#5fb4b4;">(</span>x<span style="color:#5fb4b4;">)</span> <span style="color:#5fb4b4;">(</span>y<span style="color:#5fb4b4;">)</span> <span style="color:#5fb4b4;">(</span>z<span style="color:#5fb4b4;">)</span><span style="color:#5fb4b4;">)</span> <br><br>      and <span style="color:#5fb4b4;">(</span><span style="color:#c695c6;">mapcar</span>  <span style="color:#5fb4b4;">#</span><span style="color:#c695c6;">'</span> <span style="color:#6699cc;font-style:italic;">append</span>  <span style="color:#5fb4b4;">(</span><span style="color:#6699cc;font-style:italic;">cdr</span> df<span style="color:#5fb4b4;">)</span> <span style="color:#5fb4b4;">(</span>turn<span style="color:#f97b58;">-</span><span style="color:#c695c6;">to</span><span style="color:#f97b58;">-</span><span style="color:#6699cc;font-style:italic;">list</span> lst<span style="color:#5fb4b4;">)</span><span style="color:#5fb4b4;">)</span>  will return :  <br><br>      <span style="color:#5fb4b4;">(</span><span style="color:#c695c6;">mapcar</span>  <span style="color:#5fb4b4;">#</span><span style="color:#c695c6;">'</span> <span style="color:#6699cc;font-style:italic;">append</span>  '<span style="color:#5fb4b4;">(</span><span style="color:#5fb4b4;">(</span><span style="color:#f9ae58;">1</span> <span style="color:#f9ae58;">2</span> <span style="color:#f9ae58;">3</span><span style="color:#5fb4b4;">)</span> <span style="color:#5fb4b4;">(</span><span style="color:#f9ae58;">4</span> <span style="color:#f9ae58;">5</span> <span style="color:#f9ae58;">6</span><span style="color:#5fb4b4;">)</span> <span style="color:#5fb4b4;">(</span><span style="color:#f9ae58;">7</span> <span style="color:#f9ae58;">8</span> <span style="color:#f9ae58;">9</span><span style="color:#5fb4b4;">)</span><span style="color:#5fb4b4;">)</span>      '<span style="color:#5fb4b4;">(</span><span style="color:#5fb4b4;">(</span>x<span style="color:#5fb4b4;">)</span> <span style="color:#5fb4b4;">(</span>y<span style="color:#5fb4b4;">)</span> <span style="color:#5fb4b4;">(</span>z<span style="color:#5fb4b4;">)</span><span style="color:#5fb4b4;">)</span>   <span style="color:#5fb4b4;">)</span>    ->  <span style="color:#5fb4b4;">(</span><span style="color:#5fb4b4;">(</span><span style="color:#f9ae58;">1</span> <span style="color:#f9ae58;">2</span> <span style="color:#f9ae58;">3</span> x<span style="color:#5fb4b4;">)</span> <span style="color:#5fb4b4;">(</span><span style="color:#f9ae58;">4</span> <span style="color:#f9ae58;">5</span> <span style="color:#f9ae58;">6</span> y<span style="color:#5fb4b4;">)</span> <span style="color:#5fb4b4;">(</span><span style="color:#f9ae58;">7</span> <span style="color:#f9ae58;">8</span> <span style="color:#f9ae58;">9</span> z<span style="color:#5fb4b4;">)</span><span style="color:#5fb4b4;">)</span> <br><br>      and this does : <span style="color:#5fb4b4;">(</span><span style="color:#6699cc;font-style:italic;">list</span> <span style="color:#5fb4b4;">(</span><span style="color:#6699cc;font-style:italic;">append</span> <span style="color:#5fb4b4;">(</span><span style="color:#6699cc;font-style:italic;">car</span> df<span style="color:#5fb4b4;">)</span> <span style="color:#5fb4b4;">(</span><span style="color:#6699cc;font-style:italic;">list</span> col<span style="color:#5fb4b4;">)</span><span style="color:#5fb4b4;">)</span><span style="color:#5fb4b4;">)</span>    ->  <span style="color:#5fb4b4;">(</span><span style="color:#6699cc;font-style:italic;">list</span> <span style="color:#5fb4b4;">(</span><span style="color:#6699cc;font-style:italic;">append</span> '<span style="color:#5fb4b4;">(</span>a b c<span style="color:#5fb4b4;">)</span> '<span style="color:#5fb4b4;">(</span><span style="color:#c695c6;">d</span><span style="color:#5fb4b4;">)</span><span style="color:#5fb4b4;">)</span><span style="color:#5fb4b4;">)</span> <br><br>        which means  '<span style="color:#5fb4b4;">(</span> <span style="color:#5fb4b4;">(</span>a b c <span style="color:#c695c6;">d</span> <span style="color:#5fb4b4;">)</span> <span style="color:#5fb4b4;">)</span><br><br>      <span style="color:#5fb4b4;">(</span><span style="color:#c695c6;font-style:italic;">defun</span>  <span style="color:#5fb4b4;">add-column_2</span> <span style="color:#5fb4b4;">(</span>df col lst<span style="color:#5fb4b4;">)</span><br>        <span style="color:#5fb4b4;">(</span><span style="color:#6699cc;font-style:italic;">append</span> <span style="color:#5fb4b4;">(</span><span style="color:#6699cc;font-style:italic;">list</span> <span style="color:#5fb4b4;">(</span><span style="color:#6699cc;font-style:italic;">append</span> <span style="color:#5fb4b4;">(</span><span style="color:#6699cc;font-style:italic;">car</span> df<span style="color:#5fb4b4;">)</span> <span style="color:#5fb4b4;">(</span><span style="color:#6699cc;font-style:italic;">list</span> col<span style="color:#5fb4b4;">)</span><span style="color:#5fb4b4;">)</span><span style="color:#5fb4b4;">)</span>   <span style="color:#5fb4b4;">(</span><span style="color:#c695c6;">mapcar</span>  <span style="color:#5fb4b4;">#</span><span style="color:#c695c6;">'</span> <span style="color:#6699cc;font-style:italic;">append</span>  <span style="color:#5fb4b4;">(</span><span style="color:#6699cc;font-style:italic;">cdr</span> df<span style="color:#5fb4b4;">)</span> <span style="color:#5fb4b4;">(</span>turn<span style="color:#f97b58;">-</span><span style="color:#c695c6;">to</span><span style="color:#f97b58;">-</span><span style="color:#6699cc;font-style:italic;">list</span> lst<span style="color:#5fb4b4;">)</span><span style="color:#5fb4b4;">)</span> <span style="color:#5fb4b4;">)</span><br>      <span style="color:#5fb4b4;">)</span>  <br><br><br>      Now this function will give us : <br><br>      * <span style="color:#5fb4b4;">(</span>add<span style="color:#f97b58;">-</span>column_2  <span style="color:#5fb4b4;">*</span>dataframe<span style="color:#5fb4b4;">*</span> '<span style="color:#c695c6;">d</span> '<span style="color:#5fb4b4;">(</span><span style="color:#f9ae58;">1</span> <span style="color:#f9ae58;">2</span> <span style="color:#f9ae58;">3</span><span style="color:#5fb4b4;">)</span> <span style="color:#5fb4b4;">)</span>  <br><br>      <span style="color:#5fb4b4;">(</span> <span style="color:#5fb4b4;">(</span>A B C <span style="color:#c695c6;">D</span><span style="color:#5fb4b4;">)</span> <br>        <span style="color:#5fb4b4;">(</span><span style="color:#f9ae58;">1</span> <span style="color:#f9ae58;">2</span> <span style="color:#f9ae58;">3</span> <span style="color:#f9ae58;">1</span><span style="color:#5fb4b4;">)</span> <br>        <span style="color:#5fb4b4;">(</span><span style="color:#f9ae58;">4</span> <span style="color:#f9ae58;">5</span> <span style="color:#f9ae58;">6</span> <span style="color:#f9ae58;">2</span><span style="color:#5fb4b4;">)</span> <br>        <span style="color:#5fb4b4;">(</span><span style="color:#f9ae58;">7</span> <span style="color:#f9ae58;">8</span> <span style="color:#f9ae58;">9</span> <span style="color:#f9ae58;">3</span><span style="color:#5fb4b4;">)</span><span style="color:#5fb4b4;">)</span><br><br>      We added a new column. But without considering column's length. This is done by the function below by using this function.<br><br>      If so far everything is allright. Just let me know.  I can also explain the part below. <br><br>      ################################################################################<br><br>      <span style="color:#5fb4b4;">(</span><span style="color:#c695c6;font-style:italic;">defun</span> <span style="color:#5fb4b4;">add-column</span> <span style="color:#5fb4b4;">(</span>df col lst<span style="color:#5fb4b4;">)</span><br><br>        <span style="color:#5fb4b4;">(</span><span style="color:#c695c6;">cond</span>   <span style="color:#5fb4b4;">(</span> <span style="color:#5fb4b4;">(</span><span style="color:#f97b58;">eql</span> <span style="color:#5fb4b4;">(</span><span style="color:#6699cc;font-style:italic;">length</span> lst<span style="color:#5fb4b4;">)</span> <span style="color:#5fb4b4;">(</span><span style="color:#6699cc;font-style:italic;">length</span> <span style="color:#5fb4b4;">(</span><span style="color:#6699cc;font-style:italic;">get</span><span style="color:#f97b58;">-</span>col df <span style="color:#5fb4b4;">(</span><span style="color:#6699cc;font-style:italic;">car</span> <span style="color:#5fb4b4;">(</span><span style="color:#6699cc;font-style:italic;">car</span> df<span style="color:#5fb4b4;">)</span><span style="color:#5fb4b4;">)</span><span style="color:#5fb4b4;">)</span><span style="color:#5fb4b4;">)</span><span style="color:#5fb4b4;">)</span>         <span style="color:#5fb4b4;">(</span>add<span style="color:#f97b58;">-</span>column_2 df col lst<span style="color:#5fb4b4;">)</span> <span style="color:#5fb4b4;">)</span><br>                <span style="color:#5fb4b4;">(</span> <span style="color:#5fb4b4;">(</span><span style="color:#f97b58;">></span>   <span style="color:#5fb4b4;">(</span><span style="color:#6699cc;font-style:italic;">length</span> lst<span style="color:#5fb4b4;">)</span> <span style="color:#5fb4b4;">(</span><span style="color:#6699cc;font-style:italic;">length</span> <span style="color:#5fb4b4;">(</span><span style="color:#6699cc;font-style:italic;">get</span><span style="color:#f97b58;">-</span>col df <span style="color:#5fb4b4;">(</span><span style="color:#6699cc;font-style:italic;">car</span> <span style="color:#5fb4b4;">(</span><span style="color:#6699cc;font-style:italic;">car</span> df<span style="color:#5fb4b4;">)</span><span style="color:#5fb4b4;">)</span><span style="color:#5fb4b4;">)</span><span style="color:#5fb4b4;">)</span><span style="color:#5fb4b4;">)</span>         <span style="color:#5fb4b4;">(</span>add<span style="color:#f97b58;">-</span>column df col <span style="color:#5fb4b4;">(</span><span style="color:#6699cc;font-style:italic;">reverse</span> <span style="color:#5fb4b4;">(</span><span style="color:#6699cc;font-style:italic;">cdr</span> <span style="color:#5fb4b4;">(</span><span style="color:#6699cc;font-style:italic;">reverse</span> lst<span style="color:#5fb4b4;">)</span><span style="color:#5fb4b4;">)</span><span style="color:#5fb4b4;">)</span><span style="color:#5fb4b4;">)</span><span style="color:#5fb4b4;">)</span><br>                <span style="color:#5fb4b4;">(</span> <span style="color:#ec5f66;font-style:italic;">t</span>                                                               <span style="color:#5fb4b4;">(</span>add<span style="color:#f97b58;">-</span>column df col <span style="color:#5fb4b4;">(</span><span style="color:#6699cc;font-style:italic;">append</span> lst <span style="color:#5fb4b4;">(</span><span style="color:#6699cc;font-style:italic;">list</span> '<span style="color:#ec5f66;font-style:italic;">T</span><span style="color:#5fb4b4;">)</span><span style="color:#5fb4b4;">)</span><span style="color:#5fb4b4;">)</span><span style="color:#5fb4b4;">)</span><br>        <span style="color:#5fb4b4;">)</span><span style="color:#5fb4b4;">)</span><br><br>      <span style="color:#5fb4b4;">(</span><span style="color:#c695c6;font-style:italic;">defun</span> <span style="color:#5fb4b4;">get-list</span> <span style="color:#5fb4b4;">(</span>df lst<span style="color:#5fb4b4;">)</span><br>        <span style="color:#5fb4b4;">(</span><span style="color:#c695c6;">mapcar</span> <span style="color:#5fb4b4;">#</span><span style="color:#c695c6;">'</span> <span style="color:#5fb4b4;">(</span><span style="color:#6699cc;font-style:italic;">lambda</span> <span style="color:#5fb4b4;">(</span>col<span style="color:#5fb4b4;">)</span> <span style="color:#5fb4b4;">(</span><span style="color:#6699cc;font-style:italic;">get</span><span style="color:#f97b58;">-</span>col df col<span style="color:#5fb4b4;">)</span><span style="color:#5fb4b4;">)</span> lst<span style="color:#5fb4b4;">)</span>                 <span style="color:#a6acb9;">;</span><span style="color:#a6acb9;"> </span><span style="color:#a6acb9;">'( </span><span style="color:#a6acb9;">a </span><span style="color:#a6acb9;">b </span><span style="color:#a6acb9;">)  </span><span style="color:#a6acb9;">= </span><span style="color:#a6acb9;">'( </span><span style="color:#a6acb9;">(</span><span style="color:#a6acb9;">1 </span><span style="color:#a6acb9;">4 </span><span style="color:#a6acb9;">7)  </span><span style="color:#a6acb9;">(</span><span style="color:#a6acb9;">2 </span><span style="color:#a6acb9;">5 </span><span style="color:#a6acb9;">8) </span><span style="color:#a6acb9;">)  </span><span style="color:#a6acb9;">merged </span><span style="color:#a6acb9;">!</span><br>        <span style="color:#5fb4b4;">)</span><br><br>      <span style="color:#5fb4b4;">(</span><span style="color:#c695c6;font-style:italic;">defun</span> <span style="color:#5fb4b4;">collect-cars-and-apply</span> <span style="color:#5fb4b4;">(</span>merged op<span style="color:#5fb4b4;">)</span><br><br>          <span style="color:#5fb4b4;">(</span><span style="color:#6699cc;font-style:italic;">list</span> <span style="color:#5fb4b4;">(</span><span style="color:#6699cc;font-style:italic;">apply</span> op <span style="color:#5fb4b4;">(</span><span style="color:#c695c6;">mapcar</span> <span style="color:#5fb4b4;">#</span><span style="color:#c695c6;">'</span> <span style="color:#5fb4b4;">(</span><span style="color:#6699cc;font-style:italic;">lambda</span> <span style="color:#5fb4b4;">(</span>x<span style="color:#5fb4b4;">)</span> <span style="color:#5fb4b4;">(</span><span style="color:#6699cc;font-style:italic;">car</span> x<span style="color:#5fb4b4;">)</span><span style="color:#5fb4b4;">)</span>  merged <span style="color:#5fb4b4;">)</span><span style="color:#5fb4b4;">)</span><span style="color:#5fb4b4;">)</span>   <span style="color:#a6acb9;">;</span><span style="color:#a6acb9;"> </span><span style="color:#a6acb9;">apply </span><span style="color:#a6acb9;">operation</span><span style="color:#a6acb9;">/</span><span style="color:#a6acb9;">function </span><span style="color:#a6acb9;">to </span><span style="color:#a6acb9;">the </span><span style="color:#a6acb9;">cars</span><br>        <span style="color:#5fb4b4;">)</span>                                                               <span style="color:#a6acb9;">;</span><span style="color:#a6acb9;"> </span><span style="color:#a6acb9;">e.g. </span><span style="color:#a6acb9;">if </span><span style="color:#a6acb9;">#' </span><span style="color:#a6acb9;">is </span><span style="color:#a6acb9;">+, </span><span style="color:#a6acb9;">then </span><span style="color:#a6acb9;">return </span><span style="color:#a6acb9;">"3"</span><br><br>      <span style="color:#5fb4b4;">(</span><span style="color:#c695c6;font-style:italic;">defun</span> <span style="color:#5fb4b4;">collect-cdrs</span> <span style="color:#5fb4b4;">(</span>merged<span style="color:#5fb4b4;">)</span><br>        <span style="color:#5fb4b4;">(</span><span style="color:#c695c6;">mapcar</span> <span style="color:#5fb4b4;">#</span><span style="color:#c695c6;">'</span> <span style="color:#5fb4b4;">(</span><span style="color:#6699cc;font-style:italic;">lambda</span> <span style="color:#5fb4b4;">(</span>x<span style="color:#5fb4b4;">)</span> <span style="color:#5fb4b4;">(</span><span style="color:#6699cc;font-style:italic;">cdr</span> x<span style="color:#5fb4b4;">)</span> <span style="color:#5fb4b4;">)</span> merged<span style="color:#5fb4b4;">)</span>                        <span style="color:#a6acb9;">;</span><span style="color:#a6acb9;"> </span><span style="color:#a6acb9;">'( </span><span style="color:#a6acb9;">(</span><span style="color:#a6acb9;">1 </span><span style="color:#a6acb9;">4 </span><span style="color:#a6acb9;">7)  </span><span style="color:#a6acb9;">(</span><span style="color:#a6acb9;">2 </span><span style="color:#a6acb9;">5 </span><span style="color:#a6acb9;">8) </span><span style="color:#a6acb9;">)  </span><span style="color:#a6acb9;">=>  </span><span style="color:#a6acb9;">'( </span><span style="color:#a6acb9;">(</span><span style="color:#a6acb9;">4 </span><span style="color:#a6acb9;">7)  </span><span style="color:#a6acb9;">(</span><span style="color:#a6acb9;">5 </span><span style="color:#a6acb9;">8) </span><span style="color:#a6acb9;">)</span><br>        <span style="color:#5fb4b4;">)</span><br><br>      <span style="color:#5fb4b4;">(</span><span style="color:#c695c6;font-style:italic;">defun</span> <span style="color:#5fb4b4;">map-columns_2</span> <span style="color:#5fb4b4;">(</span>merged op <span style="color:#6699cc;font-style:italic;">first</span><span style="color:#f97b58;">-</span>op storage<span style="color:#5fb4b4;">)</span><br><br>        <span style="color:#5fb4b4;">(</span><span style="color:#c695c6;">if</span> <span style="color:#5fb4b4;">(</span><span style="color:#f97b58;">eql</span> <span style="color:#5fb4b4;">(</span><span style="color:#6699cc;font-style:italic;">length</span> <span style="color:#5fb4b4;">(</span><span style="color:#6699cc;font-style:italic;">car</span> merged<span style="color:#5fb4b4;">)</span><span style="color:#5fb4b4;">)</span> <span style="color:#f9ae58;">1</span><span style="color:#5fb4b4;">)</span><br>            <span style="color:#5fb4b4;">(</span><span style="color:#6699cc;font-style:italic;">append</span> <span style="color:#6699cc;font-style:italic;">first</span><span style="color:#f97b58;">-</span>op storage<span style="color:#5fb4b4;">)</span><br>            <span style="color:#5fb4b4;">(</span><span style="color:#6699cc;font-style:italic;">map</span><span style="color:#f97b58;">-</span>columns_2 <span style="color:#5fb4b4;">(</span><span style="color:#6699cc;font-style:italic;">collect</span><span style="color:#f97b58;">-</span>cdrs merged<span style="color:#5fb4b4;">)</span>  op <span style="color:#6699cc;font-style:italic;">first</span><span style="color:#f97b58;">-</span>op  <span style="color:#5fb4b4;">(</span><span style="color:#6699cc;font-style:italic;">append</span> storage <span style="color:#5fb4b4;">(</span><span style="color:#6699cc;font-style:italic;">collect</span><span style="color:#f97b58;">-</span>cars<span style="color:#f97b58;">-</span><span style="color:#f97b58;">and</span><span style="color:#f97b58;">-</span><span style="color:#6699cc;font-style:italic;">apply</span>  <span style="color:#5fb4b4;">(</span><span style="color:#6699cc;font-style:italic;">collect</span><span style="color:#f97b58;">-</span>cdrs merged<span style="color:#5fb4b4;">)</span> op<span style="color:#5fb4b4;">)</span><span style="color:#5fb4b4;">)</span><span style="color:#5fb4b4;">)</span><br>        <span style="color:#5fb4b4;">)</span><span style="color:#5fb4b4;">)</span><br><br>      <span style="color:#5fb4b4;">(</span><span style="color:#c695c6;font-style:italic;">defun</span> <span style="color:#5fb4b4;">map-columns</span> <span style="color:#5fb4b4;">(</span>df lst op<span style="color:#5fb4b4;">)</span><br><br>        <span style="color:#5fb4b4;">(</span><span style="color:#c695c6;">let</span><span style="color:#f97b58;">*</span> <span style="color:#5fb4b4;">(</span><span style="color:#5fb4b4;">(</span>merged                       <span style="color:#5fb4b4;">(</span><span style="color:#6699cc;font-style:italic;">get</span><span style="color:#f97b58;">-</span><span style="color:#6699cc;font-style:italic;">list</span> df lst<span style="color:#5fb4b4;">)</span><span style="color:#5fb4b4;">)</span><br>              <span style="color:#5fb4b4;">(</span><span style="color:#6699cc;font-style:italic;">first</span><span style="color:#f97b58;">-</span>op                      <span style="color:#5fb4b4;">(</span><span style="color:#6699cc;font-style:italic;">collect</span><span style="color:#f97b58;">-</span>cars<span style="color:#f97b58;">-</span><span style="color:#f97b58;">and</span><span style="color:#f97b58;">-</span><span style="color:#6699cc;font-style:italic;">apply</span> merged op<span style="color:#5fb4b4;">)</span><span style="color:#5fb4b4;">)</span><br>              <span style="color:#5fb4b4;">)</span><br>              <span style="color:#5fb4b4;">(</span><span style="color:#6699cc;font-style:italic;">map</span><span style="color:#f97b58;">-</span>columns_2  merged  op <span style="color:#6699cc;font-style:italic;">first</span><span style="color:#f97b58;">-</span>op <span style="color:#ec5f66;font-style:italic;">nil</span><span style="color:#5fb4b4;">)</span><br>        <span style="color:#5fb4b4;">)</span><span style="color:#5fb4b4;">)</span>  </div><script>window.print()</script></body></html>